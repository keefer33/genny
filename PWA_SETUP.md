# PWA Setup Guide

This application is now configured as a Progressive Web App (PWA) with cross-browser compatibility.

## What's Included

### 1. Service Worker
- Automatically generated by `vite-plugin-pwa`
- Handles offline caching
- Auto-updates when new versions are available
- Caches static assets and API responses

### 2. Web App Manifest
- Located at `/public/manifest.json`
- Defines app name, icons, theme colors, and display mode
- Enables "Add to Home Screen" functionality

### 3. PWA Icons
- Icons directory: `/public/icons/`
- Multiple sizes for different devices and contexts
- See `/public/icons/README.md` for icon requirements

### 4. Install Prompt
- Custom install prompt component (`PWAInstallPrompt.tsx`)
- Shows when browser supports installation
- Respects user dismissal preferences

## Browser Compatibility

### ✅ Fully Supported
- **Chrome/Edge** (Desktop & Mobile) - Full PWA support
- **Safari** (iOS 11.3+) - Full PWA support
- **Firefox** (Desktop & Mobile) - Full PWA support
- **Samsung Internet** - Full PWA support

### ⚠️ Partial Support
- **Safari** (macOS) - Limited PWA features (no standalone mode)
- **Opera** - Full PWA support (Chromium-based)

## Features Enabled

1. **Offline Support**: Cached assets work offline
2. **Install Prompt**: Users can install the app on their devices
3. **App Shortcuts**: Quick access to Image/Video generation
4. **Theme Colors**: Matches your app's theme
5. **Standalone Mode**: Runs like a native app when installed

## Next Steps

### 1. Generate PWA Icons

You need to create icon files in `/public/icons/`:

```bash
# Required sizes:
- icon-72x72.png
- icon-96x96.png
- icon-128x128.png
- icon-144x144.png
- icon-152x152.png
- icon-192x192.png (minimum recommended)
- icon-384x384.png
- icon-512x512.png (required for install prompt)
```

**Tools to generate icons:**
- [PWA Asset Generator](https://github.com/elegantapp/pwa-asset-generator)
- [RealFaviconGenerator](https://realfavicongenerator.net/)
- [Favicon.io](https://favicon.io/)

### 2. Test PWA Functionality

1. **Build the app:**
   ```bash
   npm run build
   ```

2. **Serve the production build:**
   ```bash
   npm start
   ```

3. **Test in browser:**
   - Open Chrome DevTools → Application → Service Workers
   - Check "Offline" mode
   - Verify caching works
   - Test install prompt (Chrome/Edge)

### 3. Customize Manifest

Edit `/public/manifest.json` to customize:
- App name and description
- Theme colors
- Start URL
- Display mode
- Shortcuts

### 4. Configure Service Worker Caching

Edit `vite.config.ts` → `VitePWA` → `workbox` to customize:
- Which files to cache
- Cache strategies
- Network timeout settings

## Development

In development mode, the service worker is enabled by default. You can:
- Test offline functionality
- See service worker registration in DevTools
- Test install prompts

## Production Deployment

1. Ensure HTTPS is enabled (required for PWA)
2. Build the app: `npm run build`
3. Deploy the `build/` directory
4. Verify manifest.json is accessible at `/manifest.json`
5. Verify service worker is registered

## Troubleshooting

### Service Worker Not Registering
- Ensure HTTPS (or localhost for development)
- Check browser console for errors
- Verify `vite-plugin-pwa` is properly configured

### Install Prompt Not Showing
- Ensure all requirements are met (HTTPS, manifest, service worker)
- Check that icons are properly sized
- Verify manifest.json is valid JSON

### Icons Not Displaying
- Ensure icons exist in `/public/icons/`
- Check file paths in manifest.json
- Verify icon files are valid PNGs

## Additional Resources

- [MDN: Progressive Web Apps](https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps)
- [Web.dev: PWA](https://web.dev/progressive-web-apps/)
- [vite-plugin-pwa Documentation](https://vite-pwa-org.netlify.app/)

